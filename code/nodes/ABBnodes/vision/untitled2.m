
clear all
clc


K =[525         0       319.5000;
      0         525     239.5000;
      0         0            1.0000]


R =[0.0000 1.0000  0;
   1.0000 -0.0000 -0.0000;
    0.0000 0.0000 -1.0000]

T_rTOc= [0.4355 ; 0.0067 ; 1.13071] %m
T_cTOr= [-0.0067 ; -0.4355 ; 1.13071] %m
RT = [R T_cTOr]
    
M=K*RT

P=[676.1 296 124.2 1]' %mm


%%%!!!meter
p11=[0.300;0.300;1.13071]
p22=[-0.300;0.300;1.13071]
p33=[0.300;-0.300;1.13071]
p44=[-0.300;-0.300;1.13071]
ppp = K*p44

u=ppp(1)/ppp(3)
v=ppp(2)/ppp(3)

P1=[-0.1 -0.1 1.1326 1]'; %m
P2=[0.6761 0.296 0.1242 1]'; %m
P3=[0 0 0 1]'

test = RT*P2;
pp=M*P2;

u1=pp(1)/pp(3)
v1=pp(2)/pp(3)

%%

clc

T_cTOr1= [-0.016 ; -0.4714 ; 1.13071] %m
robot1=[0.1654; 0.3133; 0; 1] %0.3 -0.3
robot2=[0.1766; -0.2845; 0; 1] %-0.3 -0.3
robot3=[0.7714;	0.316;	0; 1] %0.3 0.3
robot4=[0.7768; -0.0368; 0; 1] %-0.3 0.3
RT2 = [R T_cTOr1; 0 0 0 1]

pp1=RT2*robot1
pp2=RT2*robot2
pp3=RT2*robot3
pp4=RT2*robot4




%%
clear all
clc

K =[525         0     0  319.5000;
      0         525   0  239.5000;
      0         0       0     0;
      0         0       0       1]

R =[0.0000 1.0000  0;
   1.0000 -0.0000 -0.0000;
    0.0000 0.0000 -1.0000]

T_cTOr1= [-0.016 ; -0.4714 ; 1.13071] %m
RT2 = [R T_cTOr1; 0 0 0 1]

M=K*RT2

inv(M)
u=177
v=376
w=1.13071

x_pic=u
y_pic=v
z_pic=w

pic = [x_pic; y_pic; z_pic]

x_robot=(x_pic-311.1)/525
y_robot=(y_pic+7.985)/525

%0.7714,0.316,0 

%% image to camera
clc

w=1.13071

xi=466
yi=93

xc=(xi-319.5)/525
yc=(yi-239.5)/525

realxc=xc*w
realyc=yc*w

totalyrealxR= realyc-0.4714
totalyrealyR= realxc+0.016

%% image to robot
clc
xi=456
yi=379

xc=(yi+7.985)/525
yc=(xi-311.1)/525

realxc=xc*w
realyc=yc*w

%%

clear all
clc

K =[525         0       319.5000;
      0         525     239.5000;
      0         0            0;
      0         0              1]

R2 =[0.0000 1.0000  0;
   1.0000 -0.0000 -0.0000;
    0.0000 0.0000 -1.0000]
R=[-0.217232234355     0.647458023654     -0.730484951223;
-0.60120400639     0.500819294756     0.622682725552;
0.769001884951     0.574437239048     0.280460263382]

T_cTOr1= [-1.63889429182e+11;     -1.46364426735e+12;     -0.000212834675277]
%T_cTOr1= [-0.016 ; -0.4714 ; 1.13071] %m
RT2 = [R T_cTOr1]

M=K*RT2

test = M*[0;0;0;1]



